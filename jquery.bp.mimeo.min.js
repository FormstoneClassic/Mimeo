/*
 * Mimeo Plugin
 * @author Ben Plum
 * @version 0.0.3
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
 
if(jQuery)(function(e){function l(a){e.extend(k,a||{});b.update();if(k.rubberband)m.on("snap",b.respond)}var m=e(window),h,k={rubberband:!1},b={respond:function(){h.each(function(){for(var a=e(this),b=a.find("img"),a=a.find("source"),c=!1,f=0,g=a.length;f<g;f++){var d=a.eq(f).data("mimeo-match");d&&d.matches&&(c=f)}!1===c&&(c=a.length-1);b.attr("src",a.eq(c).attr("src"))})},update:function(){h=e("picture");h.each(function(a,b){var c=e(b).find("source");a=0;for(var f=c.length;a<f;a++){var g=c.eq(a),d=g.attr("media"); d&&(d=d.replace(Infinity,"100000px"),g.data("mimeo-match",window.matchMedia(d)))}})}};e.mimeo=function(a){return b[a]?b[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:l.apply(this,arguments)}})(jQuery);