/*
 * Mimeo Plugin
 * @author Ben Plum
 * @version 0.0.4
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
 
if(jQuery)(function(c){function k(a){c.extend(l,a||{});b.update();if(void 0!=c.rubberband)m.on("snap",b.respond)}var m=c(window),h,l={},b={respond:function(){h.each(function(){for(var a=c(this),b=a.find("img"),a=a.find("source"),d=!1,f=0,g=a.length;f<g;f++){var e=a.eq(f).data("mimeo-match");e&&e.matches&&(d=f)}!1===d&&(d=a.length-1);b.attr("src",a.eq(d).attr("src"))})},update:function(){h=c("picture");h.each(function(a,b){var d=c(b).find("source");a=0;for(var f=d.length;a<f;a++){var g=d.eq(a),e=g.attr("media"); e&&(e=e.replace(Infinity,"100000px"),g.data("mimeo-match",window.matchMedia(e)))}})}};c.mimeo=function(a){return b[a]?b[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:k.apply(this,arguments)}})(jQuery);